{"ast":null,"code":"import _defineProperty from\"D:/VS Code Projects/crypto_scraping/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"D:/VS Code Projects/crypto_scraping/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/VS Code Projects/crypto_scraping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\VS Code Projects\\\\crypto_scraping\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import ReactHtmlParser from\"react-html-parser\";import CoinInfo from\"./CoinInfo\";import axios from\"axios\";import{LinearProgress,Typography}from\"@material-ui/core\";import{useEffect,useState}from\"react\";import{SingleCoin}from\"./apin\";import{useSelector}from\"react-redux\";import{selectCurrency}from\"./features/currencySlice\";import{useParams}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}var CoinPage=function CoinPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),coin=_useState2[0],setCoin=_useState2[1];var _useSelector=useSelector(selectCurrency),currency=_useSelector.currency,symbol=_useSelector.symbol;useEffect(function(){var fetchCoin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(SingleCoin(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log(\"im runnig\");\n// console.log(\"data\", data);\nsetCoin(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchCoin(){return _ref.apply(this,arguments);};}();fetchCoin();},[]);// console.log(\"coin\", coin);\n// console.log(\"id\", id);\n// console.log(\"makeStyle\", makeStyles());\nvar useStyles=makeStyles(function(theme){var _sidebar,_marketData;return{container:_defineProperty({display:\"flex\"},theme.breakpoints.down(\"md\"),{flexDirection:\"column\",alignItems:\"center\"}),sidebar:(_sidebar={width:\"30%\"},_defineProperty(_sidebar,theme.breakpoints.down(\"md\"),{width:\"100%\"}),_defineProperty(_sidebar,\"display\",\"flex\"),_defineProperty(_sidebar,\"flexDirection\",\"column\"),_defineProperty(_sidebar,\"alignItems\",\"center\"),_defineProperty(_sidebar,\"marginTop\",25),_defineProperty(_sidebar,\"borderRight\",\"2px solid grey\"),_sidebar),heading:{fontWeight:\"bold\",marginBottom:20,fontFamily:\"Montserrat\"},description:{width:\"100%\",fontFamily:\"Montserrat\",padding:25,paddingBottom:15,paddingTop:0,textAlign:\"justify\"},marketData:(_marketData={alignSelf:\"start\",padding:25,paddingTop:10,width:\"100%\"},_defineProperty(_marketData,theme.breakpoints.down(\"md\"),{display:\"flex\",justifyContent:\"space-around\"}),_defineProperty(_marketData,theme.breakpoints.down(\"sm\"),{flexDirection:\"column\",alignItems:\"center\"}),_defineProperty(_marketData,theme.breakpoints.down(\"xs\"),{alignItems:\"start\"}),_marketData)};});var classes=useStyles();if(!coin)return/*#__PURE__*/_jsx(LinearProgress,{style:{backgroundColor:\"gold\"}});return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.sidebar,children:[/*#__PURE__*/_jsx(\"img\",{src:coin===null||coin===void 0?void 0:coin.image.large,alt:coin===null||coin===void 0?void 0:coin.name,height:\"200\",style:{marginBottom:20}}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",className:classes.heading,children:coin===null||coin===void 0?void 0:coin.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",className:classes.description,children:[ReactHtmlParser(coin===null||coin===void 0?void 0:coin.description.en.split(\". \")[0]),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.marketData,children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",className:classes.heading,children:\"Rank:\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{fontFamily:\"Montserrat\"},children:numberWithCommas(coin===null||coin===void 0?void 0:coin.market_cap_rank)})]}),/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",className:classes.heading,children:\"Current Price:\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{fontFamily:\"Montserrat\"},children:[symbol,\" \",numberWithCommas(coin===null||coin===void 0?void 0:coin.market_data.current_price[currency.toLowerCase()])]})]}),/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",className:classes.heading,children:\"Market Cap:\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",style:{fontFamily:\"Montserrat\"},children:[symbol,\" \",numberWithCommas(coin===null||coin===void 0?void 0:coin.market_data.market_cap[currency.toLowerCase()].toString().slice(0,-6)),\"M\"]})]})]})]}),/*#__PURE__*/_jsx(CoinInfo,{coin:coin})]});};export default CoinPage;","map":{"version":3,"names":["ReactHtmlParser","CoinInfo","axios","LinearProgress","Typography","useEffect","useState","SingleCoin","useSelector","selectCurrency","useParams","makeStyles","numberWithCommas","x","toString","replace","CoinPage","id","coin","setCoin","currency","symbol","fetchCoin","get","data","useStyles","theme","container","display","breakpoints","down","flexDirection","alignItems","sidebar","width","heading","fontWeight","marginBottom","fontFamily","description","padding","paddingBottom","paddingTop","textAlign","marketData","alignSelf","justifyContent","classes","backgroundColor","image","large","name","en","split","market_cap_rank","market_data","current_price","toLowerCase","market_cap","slice"],"sources":["D:/VS Code Projects/crypto_scraping/src/CoinPage.js"],"sourcesContent":["import ReactHtmlParser from \"react-html-parser\";\r\nimport CoinInfo from \"./CoinInfo\";\r\nimport axios from \"axios\";\r\nimport { LinearProgress, Typography } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { SingleCoin } from \"./apin\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectCurrency } from \"./features/currencySlice\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nfunction numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nconst CoinPage = () => {\r\n  const { id } = useParams();\r\n  const [coin, setCoin] = useState();\r\n  const { currency, symbol } = useSelector(selectCurrency);\r\n\r\n  useEffect(() => {\r\n    const fetchCoin = async () => {\r\n      const { data } = await axios.get(SingleCoin(id));\r\n\r\n      // console.log(\"im runnig\");\r\n      // console.log(\"data\", data);\r\n      setCoin(data);\r\n    };\r\n    fetchCoin();\r\n  }, []);\r\n\r\n  // console.log(\"coin\", coin);\r\n  // console.log(\"id\", id);\r\n  // console.log(\"makeStyle\", makeStyles());\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    container: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.down(\"md\")]: {\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      },\r\n    },\r\n    sidebar: {\r\n      width: \"30%\",\r\n      [theme.breakpoints.down(\"md\")]: {\r\n        width: \"100%\",\r\n      },\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      marginTop: 25,\r\n      borderRight: \"2px solid grey\",\r\n    },\r\n    heading: {\r\n      fontWeight: \"bold\",\r\n      marginBottom: 20,\r\n      fontFamily: \"Montserrat\",\r\n    },\r\n    description: {\r\n      width: \"100%\",\r\n      fontFamily: \"Montserrat\",\r\n      padding: 25,\r\n      paddingBottom: 15,\r\n      paddingTop: 0,\r\n      textAlign: \"justify\",\r\n    },\r\n    marketData: {\r\n      alignSelf: \"start\",\r\n      padding: 25,\r\n      paddingTop: 10,\r\n      width: \"100%\",\r\n      [theme.breakpoints.down(\"md\")]: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-around\",\r\n      },\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      },\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        alignItems: \"start\",\r\n      },\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  if (!coin) return <LinearProgress style={{ backgroundColor: \"gold\" }} />;\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <div className={classes.sidebar}>\r\n        <img\r\n          src={coin?.image.large}\r\n          alt={coin?.name}\r\n          height=\"200\"\r\n          style={{ marginBottom: 20 }}\r\n        />\r\n        <Typography variant=\"h3\" className={classes.heading}>\r\n          {coin?.name}\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" className={classes.description}>\r\n          {ReactHtmlParser(coin?.description.en.split(\". \")[0])}.\r\n        </Typography>\r\n        <div className={classes.marketData}>\r\n          <span style={{ display: \"flex\" }}>\r\n            <Typography variant=\"h5\" className={classes.heading}>\r\n              Rank:\r\n            </Typography>\r\n            &nbsp; &nbsp;\r\n            <Typography\r\n              variant=\"h5\"\r\n              style={{\r\n                fontFamily: \"Montserrat\",\r\n              }}\r\n            >\r\n              {numberWithCommas(coin?.market_cap_rank)}\r\n            </Typography>\r\n          </span>\r\n\r\n          <span style={{ display: \"flex\" }}>\r\n            <Typography variant=\"h5\" className={classes.heading}>\r\n              Current Price:\r\n            </Typography>\r\n            &nbsp; &nbsp;\r\n            <Typography\r\n              variant=\"h5\"\r\n              style={{\r\n                fontFamily: \"Montserrat\",\r\n              }}\r\n            >\r\n              {symbol}{\" \"}\r\n              {numberWithCommas(\r\n                coin?.market_data.current_price[currency.toLowerCase()]\r\n              )}\r\n            </Typography>\r\n          </span>\r\n          <span style={{ display: \"flex\" }}>\r\n            <Typography variant=\"h5\" className={classes.heading}>\r\n              Market Cap:\r\n            </Typography>\r\n            &nbsp; &nbsp;\r\n            <Typography\r\n              variant=\"h5\"\r\n              style={{\r\n                fontFamily: \"Montserrat\",\r\n              }}\r\n            >\r\n              {symbol}{\" \"}\r\n              {numberWithCommas(\r\n                coin?.market_data.market_cap[currency.toLowerCase()]\r\n                  .toString()\r\n                  .slice(0, -6)\r\n              )}\r\n              M\r\n            </Typography>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <CoinInfo coin={coin} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoinPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}